import{d as S,B as b,r as i,a as $,m as w,w as I,e as n,t as m,D as d,E as p,u as V}from"./index.855284fc.js";import{_ as k}from"./BaseForm.vue_vue_type_script_setup_true_lang.cfd44047.js";const B={for:"name"},E=["placeholder"],O={for:"surname"},U=["placeholder"],q={for:"email"},D=["placeholder"],j=S({__name:"AccountSettings",emits:["updated"],setup(F,{emit:g}){var c,v,f;const t=b(),u=i((c=t.user)==null?void 0:c.email),l=i((v=t.user)==null?void 0:v.name),o=i((f=t.user)==null?void 0:f.surname),r=i(),y=async()=>{var s,h,_;if(!u.value||!l.value||!o.value)return;const e={};if(((s=t.user)==null?void 0:s.name)!==l.value&&(e.name=l.value),((h=t.user)==null?void 0:h.surname)!==o.value&&(e.surname=o.value),((_=t.user)==null?void 0:_.email)!==u.value&&(e.email=u.value),Object.keys(e).length===0){r.value.setSuccessOnInputs();return}const a=await t.update(l.value,o.value,u.value);a===!0?(g("updated",e),r.value.setSuccessOnInputs()):typeof a=="object"&&(r.value.setSuccessOnInputs(),r.value.setInputErrors(a.data.errors))};return(e,a)=>($(),w(k,{ref_key:"baseForm",ref:r,onSubmit:y,isLoading:V(t).isLoading,submitText:"Save"},{default:I(()=>[n("label",B,m(e.$t("Name")),1),d(n("input",{type:"text",id:"name",name:"name",placeholder:e.$t("Name"),"onUpdate:modelValue":a[0]||(a[0]=s=>l.value=s),minlength:"2",pattern:".{2,}",autofocus:"",required:""},null,8,E),[[p,l.value]]),n("label",O,m(e.$t("Surname")),1),d(n("input",{type:"text",id:"surname",name:"surname",placeholder:e.$t("Surname"),"onUpdate:modelValue":a[1]||(a[1]=s=>o.value=s),minlength:"2",pattern:".{2,}",required:""},null,8,U),[[p,o.value]]),n("label",q,m(e.$t("Email")),1),d(n("input",{type:"email",id:"email",name:"email",placeholder:e.$t("Email"),"onUpdate:modelValue":a[2]||(a[2]=s=>u.value=s),pattern:"[^@]+@[^@]+\\.[^@]+",autofocus:"",required:""},null,8,D),[[p,u.value]]),n("small",null,m(e.$t("If you change your email address you will have to confirm it again.")),1)]),_:1},8,["isLoading"]))}});export{j as _};

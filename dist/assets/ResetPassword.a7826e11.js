import{d as f,r as o,C as l,B as _,a as n,m as v,w as b,e as u,t as d,D as y,E as h,c as k,i as B}from"./index.855284fc.js";import{_ as C}from"./BaseForm.vue_vue_type_script_setup_true_lang.cfd44047.js";import"./BaseButton.vue_vue_type_script_setup_true_lang.8c6a2ef1.js";const N={for:"password"},R=["placeholder","disabled"],S={key:0,class:"success"},F=f({__name:"ResetPassword",setup($){const a=o(""),s=o(!1),r=o(),i=l.currentRoute.value.query.token,c=l.currentRoute.value.query.email,p=_(),m=async()=>{const e=await p.sendPasswordReset(c,i,a.value);return e===!0?s.value=e:typeof e=="object"&&(e.data.errors.email&&(e.data.errors.password=e.data.errors.email,delete e.data.errors.email),r.value.setInputErrors(e.data.errors)),s.value};return(e,t)=>(n(),v(C,{ref_key:"baseForm",ref:r,onSubmit:m,disabled:s.value},{default:b(()=>[u("label",N,d(e.$t("New password")),1),y(u("input",{type:"password",name:"password",placeholder:e.$t("New password"),"onUpdate:modelValue":t[0]||(t[0]=w=>a.value=w),disabled:s.value,autofocus:"",autocomplete:"new-password",required:""},null,8,R),[[h,a.value]]),s.value?(n(),k("small",S,d(e.$t("You can now log in with your new password!")),1)):B("",!0)]),_:1},8,["disabled"]))}});export{F as default};
